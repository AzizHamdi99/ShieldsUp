import type { ChallengeCategory } from './types'

export const categories: ChallengeCategory[] = [
  {
    id: 'password-security',
    name: 'Password Security',
    slug: 'password-security',
    description: 'Learn to create, manage, and protect strong passwords.',
    icon: 'Lock',
    color: 'cyber-blue',
    glowClass: 'glow-blue',
    challenges: [
      {
        id: 'ps-beginner',
        categoryId: 'password-security',
        title: 'Password Strength Analyzer',
        description: 'Test passwords and learn what makes them strong or weak.',
        difficulty: 'beginner',
        points: 50,
        type: 'interactive',
        content: {
          kind: 'interactive',
          scenario: 'You are a security analyst evaluating password policies for a company. Analyze each password and determine its strength.',
          steps: [
            {
              id: 'ps-b-1',
              prompt: 'A user wants to set their password to "password123". What do you advise?',
              options: [
                { label: 'It is fine, it has numbers', correct: false, feedback: 'This is one of the most commonly guessed passwords. It combines a dictionary word with a simple number pattern.' },
                { label: 'Reject it - too common and predictable', correct: true, feedback: 'Correct! "password123" appears in almost every leaked password database and is extremely easy to crack.' },
                { label: 'Add a capital letter and it will be fine', correct: false, feedback: 'While adding a capital helps slightly, the base word is still a dictionary word and trivially guessable.' },
              ],
            },
            {
              id: 'ps-b-2',
              prompt: 'Which of these is the STRONGEST password?',
              options: [
                { label: 'Tr0ub4dor&3', correct: false, feedback: 'This uses common letter-to-number substitutions (o->0, a->4) which automated tools easily detect.' },
                { label: 'correct-horse-battery-staple', correct: true, feedback: 'Correct! A passphrase of 4+ random words provides high entropy while being memorable. Length beats complexity.' },
                { label: 'P@$$w0rd!', correct: false, feedback: 'Despite using special characters and numbers, this is a well-known variation of "password" and easily cracked.' },
              ],
            },
            {
              id: 'ps-b-3',
              prompt: 'How often should users change their passwords according to modern security guidelines?',
              options: [
                { label: 'Every 30 days', correct: false, feedback: 'Frequent forced changes lead to weaker passwords as users make small predictable modifications.' },
                { label: 'Every 90 days', correct: false, feedback: 'NIST no longer recommends periodic password changes unless there is evidence of compromise.' },
                { label: 'Only when there is evidence of compromise', correct: true, feedback: 'Correct! Modern NIST guidelines (SP 800-63B) recommend changing passwords only when a breach is suspected.' },
              ],
            },
          ],
        },
      },
      {
        id: 'ps-intermediate',
        categoryId: 'password-security',
        title: 'Password Manager Setup',
        description: 'Configure a password manager and understand encryption basics.',
        difficulty: 'intermediate',
        points: 100,
        type: 'simulation',
        content: {
          kind: 'simulation',
          scenario: 'Set up a password manager by completing the security steps in the correct order.',
          elements: [
            { id: 'pm-1', label: 'Choose a strong master password', description: 'Create a unique passphrase you can remember' },
            { id: 'pm-2', label: 'Enable two-factor authentication', description: 'Add a second layer of security to your vault' },
            { id: 'pm-3', label: 'Import existing passwords', description: 'Transfer passwords from your browser' },
            { id: 'pm-4', label: 'Audit password strength', description: 'Check for weak and reused passwords' },
            { id: 'pm-5', label: 'Replace weak passwords', description: 'Generate and save strong replacements' },
            { id: 'pm-6', label: 'Set up emergency access', description: 'Configure trusted contact recovery' },
          ],
          correctOrder: ['pm-1', 'pm-2', 'pm-3', 'pm-4', 'pm-5', 'pm-6'],
        },
      },
      {
        id: 'ps-advanced',
        categoryId: 'password-security',
        title: 'Brute Force Defense Lab',
        description: 'Simulate brute force attacks and configure defenses.',
        difficulty: 'advanced',
        points: 200,
        type: 'quiz',
        timeLimit: 120,
        content: {
          kind: 'quiz',
          questions: [
            {
              id: 'ps-a-1',
              question: 'A 6-character password using only lowercase letters has how many possible combinations?',
              options: ['26^6 = ~308 million', '26 x 6 = 156', '6! = 720', '26^2 = 676'],
              correctIndex: 0,
              explanation: 'Each of the 6 positions can be any of 26 letters, giving 26^6 = 308,915,776 combinations.',
            },
            {
              id: 'ps-a-2',
              question: 'Which technique adds random data to passwords before hashing to prevent rainbow table attacks?',
              options: ['Peppering', 'Salting', 'Stretching', 'Chaining'],
              correctIndex: 1,
              explanation: 'Salting adds unique random data to each password before hashing, making pre-computed rainbow tables useless.',
            },
            {
              id: 'ps-a-3',
              question: 'What is the recommended minimum number of iterations for PBKDF2 password hashing in 2024?',
              options: ['1,000', '10,000', '600,000', '100'],
              correctIndex: 2,
              explanation: 'OWASP recommends at least 600,000 iterations for PBKDF2 with SHA-256 to resist modern GPU attacks.',
            },
            {
              id: 'ps-a-4',
              question: 'Account lockout after N failed attempts can be exploited for what type of attack?',
              options: ['SQL injection', 'Denial of service', 'Cross-site scripting', 'Buffer overflow'],
              correctIndex: 1,
              explanation: 'Attackers can intentionally lock out legitimate users by deliberately failing login attempts, causing denial of service.',
            },
          ],
        },
      },
    ],
  },
  {
    id: 'phishing-detection',
    name: 'Phishing Detection',
    slug: 'phishing-detection',
    description: 'Identify and avoid phishing scams, fake emails, and social engineering.',
    icon: 'Fish',
    color: 'cyber-green',
    glowClass: 'glow-green',
    challenges: [
      {
        id: 'pd-beginner',
        categoryId: 'phishing-detection',
        title: 'Spot the Phish',
        description: 'Examine emails and identify which ones are phishing attempts.',
        difficulty: 'beginner',
        points: 50,
        type: 'interactive',
        content: {
          kind: 'interactive',
          scenario: 'You received several emails today. Examine each one and decide if it is legitimate or a phishing attempt.',
          steps: [
            {
              id: 'pd-b-1',
              prompt: 'Email from "security@paypa1.com": "Your account has been limited. Click here to verify your identity immediately or your account will be closed in 24 hours."',
              options: [
                { label: 'Legitimate - PayPal needs to verify me', correct: false, feedback: 'Look closely at the sender domain: "paypa1.com" uses the number 1 instead of the letter l. This is a classic typo-squatting phishing technique.' },
                { label: 'Phishing - suspicious sender domain', correct: true, feedback: 'Correct! The domain "paypa1.com" is not the real PayPal domain (paypal.com). Also, urgency tactics ("24 hours") are a red flag.' },
              ],
            },
            {
              id: 'pd-b-2',
              prompt: 'Email from "noreply@amazon.com": "Your order #402-3817294 has shipped. Track your package at amazon.com/track."',
              options: [
                { label: 'Phishing - I did not order anything', correct: false, feedback: 'While you might not remember ordering something, the email itself has legitimate indicators: correct domain, no urgency, links to the real domain.' },
                { label: 'Likely legitimate - real domain and standard format', correct: true, feedback: 'Correct! The sender domain matches, the link points to the real site, and there is no urgency or request for personal information.' },
              ],
            },
            {
              id: 'pd-b-3',
              prompt: 'Email from "admin@yourcompany.com": "Hi, I am the IT admin. Please reply with your password so I can update your account to the new system."',
              options: [
                { label: 'Legitimate - IT department needs my password', correct: false, feedback: 'No legitimate IT department will ever ask for your password via email. This is a social engineering attack.' },
                { label: 'Phishing - IT never asks for passwords via email', correct: true, feedback: 'Correct! Legitimate IT staff never need your password and have admin tools to make changes. Always verify such requests through official channels.' },
              ],
            },
          ],
        },
      },
      {
        id: 'pd-intermediate',
        categoryId: 'phishing-detection',
        title: 'URL Inspector',
        description: 'Analyze suspicious URLs and learn to spot malicious links.',
        difficulty: 'intermediate',
        points: 100,
        type: 'matching',
        content: {
          kind: 'matching',
          instruction: 'Match each suspicious URL pattern with the type of attack it represents.',
          pairs: [
            { id: 'url-1', term: 'https://g00gle.com/login', definition: 'Typo-squatting (substituted characters)' },
            { id: 'url-2', term: 'https://accounts.google.com.evil.net/signin', definition: 'Subdomain spoofing (real domain as subdomain)' },
            { id: 'url-3', term: 'https://bit.ly/3xK9mP', definition: 'URL shortener hiding destination' },
            { id: 'url-4', term: 'https://google.com@malicious.site/login', definition: 'URL authority confusion (@ symbol trick)' },
            { id: 'url-5', term: 'data:text/html,<script>alert(1)</script>', definition: 'Data URI scheme attack' },
          ],
        },
      },
      {
        id: 'pd-advanced',
        categoryId: 'phishing-detection',
        title: 'Social Engineering Scenarios',
        description: 'Navigate complex social engineering attacks and make the right decisions.',
        difficulty: 'advanced',
        points: 200,
        type: 'interactive',
        content: {
          kind: 'interactive',
          scenario: 'You are the IT security lead. Handle these social engineering incidents.',
          steps: [
            {
              id: 'pd-a-1',
              prompt: 'A caller claims to be from Microsoft support saying your servers have a virus. They ask for remote access.',
              options: [
                { label: 'Grant access - Microsoft knows best', correct: false, feedback: 'Microsoft never cold-calls about viruses. This is a classic tech support scam.' },
                { label: 'Ask for their employee ID and call Microsoft directly', correct: true, feedback: 'Correct! Always verify identity through official channels. Never trust unsolicited calls.' },
                { label: 'Give them limited access to investigate', correct: false, feedback: 'Even limited access can be used to install malware or steal credentials.' },
              ],
            },
            {
              id: 'pd-a-2',
              prompt: 'An employee received a USB drive in the mail labeled "Q4 Salary Adjustments - Confidential". What should they do?',
              options: [
                { label: 'Plug it in to check the contents', correct: false, feedback: 'Unknown USB drives may contain malware that executes automatically when plugged in (USB drop attacks).' },
                { label: 'Report it to security and do NOT plug it in', correct: true, feedback: 'Correct! This is a USB drop attack. The enticing label is designed to trick people into plugging it in.' },
                { label: 'Plug it into a non-networked computer', correct: false, feedback: 'Even isolated computers can be compromised, and the malware could persist to affect networks later.' },
              ],
            },
            {
              id: 'pd-a-3',
              prompt: 'Your CEO emails you urgently requesting a wire transfer to a new vendor. The email looks legitimate but the request is unusual.',
              options: [
                { label: 'Process it immediately - the CEO is urgent', correct: false, feedback: 'This is a classic Business Email Compromise (BEC) attack. Urgency is used to bypass normal procedures.' },
                { label: 'Verify by calling the CEO on their known phone number', correct: true, feedback: 'Correct! Always verify unusual financial requests through a different communication channel, not by replying to the email.' },
                { label: 'Reply to the email asking for confirmation', correct: false, feedback: 'If the email is spoofed or the account is compromised, the attacker will simply confirm the request.' },
              ],
            },
          ],
        },
      },
    ],
  },
  {
    id: 'network-safety',
    name: 'Network Safety',
    slug: 'network-safety',
    description: 'Understand network threats, secure connections, and Wi-Fi safety.',
    icon: 'Wifi',
    color: 'cyber-purple',
    glowClass: 'glow-purple',
    challenges: [
      {
        id: 'ns-beginner',
        categoryId: 'network-safety',
        title: 'Wi-Fi Safety Basics',
        description: 'Learn to identify secure vs. risky Wi-Fi networks.',
        difficulty: 'beginner',
        points: 50,
        type: 'drag-drop',
        content: {
          kind: 'drag-drop',
          instruction: 'Categorize each Wi-Fi practice as SAFE or RISKY.',
          items: [
            { id: 'ns-1', label: 'Using a VPN on public Wi-Fi', category: 'Safe' },
            { id: 'ns-2', label: 'Connecting to "Free_Airport_WiFi" without verification', category: 'Risky' },
            { id: 'ns-3', label: 'Online banking on coffee shop Wi-Fi without VPN', category: 'Risky' },
            { id: 'ns-4', label: 'Using mobile data instead of unknown Wi-Fi', category: 'Safe' },
            { id: 'ns-5', label: 'Sharing files over public Wi-Fi', category: 'Risky' },
            { id: 'ns-6', label: 'Verifying the Wi-Fi name with staff before connecting', category: 'Safe' },
            { id: 'ns-7', label: 'Keeping Wi-Fi auto-connect enabled for all networks', category: 'Risky' },
            { id: 'ns-8', label: 'Using HTTPS-only websites on public networks', category: 'Safe' },
          ],
          categories: ['Safe', 'Risky'],
        },
      },
      {
        id: 'ns-intermediate',
        categoryId: 'network-safety',
        title: 'Firewall Configuration',
        description: 'Set up firewall rules to protect a network from common threats.',
        difficulty: 'intermediate',
        points: 100,
        type: 'simulation',
        content: {
          kind: 'simulation',
          scenario: 'Configure your home network firewall by arranging these security rules in the correct priority order.',
          elements: [
            { id: 'fw-1', label: 'Block all inbound traffic by default', description: 'Deny-all baseline rule' },
            { id: 'fw-2', label: 'Allow established/related connections', description: 'Let responses to your requests through' },
            { id: 'fw-3', label: 'Allow outbound HTTP/HTTPS (80, 443)', description: 'Enable web browsing' },
            { id: 'fw-4', label: 'Block known malicious IP ranges', description: 'Threat intelligence blacklist' },
            { id: 'fw-5', label: 'Allow DNS queries (port 53)', description: 'Enable domain name resolution' },
            { id: 'fw-6', label: 'Log all dropped packets', description: 'Monitor for suspicious activity' },
          ],
          correctOrder: ['fw-4', 'fw-2', 'fw-5', 'fw-3', 'fw-1', 'fw-6'],
        },
      },
      {
        id: 'ns-advanced',
        categoryId: 'network-safety',
        title: 'Man-in-the-Middle Detection',
        description: 'Identify and prevent MITM attacks in real-world scenarios.',
        difficulty: 'advanced',
        points: 200,
        type: 'quiz',
        timeLimit: 90,
        content: {
          kind: 'quiz',
          questions: [
            {
              id: 'ns-a-1',
              question: 'What is the primary purpose of ARP spoofing in a MITM attack?',
              options: ['To crash the network switch', 'To redirect traffic through the attacker\'s machine', 'To decrypt HTTPS traffic', 'To steal the router\'s MAC address permanently'],
              correctIndex: 1,
              explanation: 'ARP spoofing associates the attacker\'s MAC address with the gateway IP, causing traffic to route through the attacker.',
            },
            {
              id: 'ns-a-2',
              question: 'Which protocol prevents MITM attacks on HTTPS connections?',
              options: ['HTTP Strict Transport Security (HSTS)', 'DNS over HTTPS (DoH)', 'WPA3-Enterprise', 'IPSec tunnel mode'],
              correctIndex: 0,
              explanation: 'HSTS forces browsers to only use HTTPS, preventing SSL stripping attacks which downgrade connections to HTTP.',
            },
            {
              id: 'ns-a-3',
              question: 'A certificate warning appears when visiting your bank\'s website. What is the MOST likely cause?',
              options: ['The bank updated their website', 'Your system clock is wrong', 'A potential MITM attack intercepting the connection', 'The certificate just expired today'],
              correctIndex: 2,
              explanation: 'While expired certs and clock issues are possible, on a bank site you should assume MITM until verified through another channel.',
            },
          ],
        },
      },
    ],
  },
  {
    id: 'malware-defense',
    name: 'Malware Defense',
    slug: 'malware-defense',
    description: 'Identify malware types and learn prevention and removal strategies.',
    icon: 'Bug',
    color: 'cyber-pink',
    glowClass: 'glow-pink',
    challenges: [
      {
        id: 'md-beginner',
        categoryId: 'malware-defense',
        title: 'Malware Types Identifier',
        description: 'Learn to identify different types of malware and their characteristics.',
        difficulty: 'beginner',
        points: 50,
        type: 'matching',
        content: {
          kind: 'matching',
          instruction: 'Match each malware type with its correct description.',
          pairs: [
            { id: 'mw-1', term: 'Ransomware', definition: 'Encrypts files and demands payment for decryption' },
            { id: 'mw-2', term: 'Trojan Horse', definition: 'Disguises itself as legitimate software to gain access' },
            { id: 'mw-3', term: 'Worm', definition: 'Self-replicates across networks without user interaction' },
            { id: 'mw-4', term: 'Spyware', definition: 'Secretly monitors user activity and collects data' },
            { id: 'mw-5', term: 'Rootkit', definition: 'Hides deep in the OS to maintain persistent access' },
            { id: 'mw-6', term: 'Keylogger', definition: 'Records keystrokes to capture passwords and sensitive data' },
          ],
        },
      },
      {
        id: 'md-intermediate',
        categoryId: 'malware-defense',
        title: 'Incident Response Simulation',
        description: 'Respond to a malware outbreak in a corporate environment.',
        difficulty: 'intermediate',
        points: 100,
        type: 'simulation',
        content: {
          kind: 'simulation',
          scenario: 'A ransomware infection has been detected on a workstation. Execute the incident response steps in the correct order.',
          elements: [
            { id: 'ir-1', label: 'Isolate infected machine from network', description: 'Prevent lateral movement' },
            { id: 'ir-2', label: 'Document everything observed', description: 'Record indicators of compromise' },
            { id: 'ir-3', label: 'Notify the incident response team', description: 'Escalate to security personnel' },
            { id: 'ir-4', label: 'Identify the ransomware variant', description: 'Analyze the threat type' },
            { id: 'ir-5', label: 'Check for backup availability', description: 'Verify recovery options' },
            { id: 'ir-6', label: 'Restore from clean backups', description: 'Recover data without paying ransom' },
          ],
          correctOrder: ['ir-1', 'ir-2', 'ir-3', 'ir-4', 'ir-5', 'ir-6'],
        },
      },
      {
        id: 'md-advanced',
        categoryId: 'malware-defense',
        title: 'Malware Analysis Lab',
        description: 'Analyze malware behavior patterns and develop mitigation strategies.',
        difficulty: 'advanced',
        points: 200,
        type: 'quiz',
        timeLimit: 120,
        content: {
          kind: 'quiz',
          questions: [
            {
              id: 'md-a-1',
              question: 'What technique do polymorphic viruses use to evade signature-based detection?',
              options: ['Encrypting their code with a variable key each time', 'Hiding in system firmware', 'Disabling antivirus software', 'Only running when the user is idle'],
              correctIndex: 0,
              explanation: 'Polymorphic viruses encrypt their payload with a different key each time they replicate, making signature detection unreliable.',
            },
            {
              id: 'md-a-2',
              question: 'Which sandboxing evasion technique checks if the malware is running in a virtual machine?',
              options: ['Code obfuscation', 'Environmental awareness / VM detection', 'Process hollowing', 'DLL sideloading'],
              correctIndex: 1,
              explanation: 'Malware checks for VM artifacts (registry keys, hardware IDs, process names) to detect sandboxes and alter behavior.',
            },
            {
              id: 'md-a-3',
              question: 'What is a "fileless" malware attack?',
              options: ['Malware that deletes itself after execution', 'Malware that operates entirely in memory without touching disk', 'Malware delivered through text messages', 'Malware hidden inside image files'],
              correctIndex: 1,
              explanation: 'Fileless malware lives in RAM and uses legitimate tools (PowerShell, WMI) to execute, leaving no files for traditional AV to scan.',
            },
            {
              id: 'md-a-4',
              question: 'What does the MITRE ATT&CK framework provide for malware defense?',
              options: ['A free antivirus solution', 'A database of known malware hashes', 'A structured knowledge base of adversary tactics and techniques', 'A certificate authority for code signing'],
              correctIndex: 2,
              explanation: 'MITRE ATT&CK catalogs real-world adversary behaviors into tactics and techniques, helping defenders understand and counter threats.',
            },
          ],
        },
      },
    ],
  },
  {
    id: 'data-privacy',
    name: 'Data Privacy',
    slug: 'data-privacy',
    description: 'Protect personal data, understand regulations, and practice privacy hygiene.',
    icon: 'Eye',
    color: 'cyber-blue',
    glowClass: 'glow-blue',
    challenges: [
      {
        id: 'dp-beginner',
        categoryId: 'data-privacy',
        title: 'Privacy Settings Check',
        description: 'Review app privacy settings and learn what data you are sharing.',
        difficulty: 'beginner',
        points: 50,
        type: 'drag-drop',
        content: {
          kind: 'drag-drop',
          instruction: 'Sort these app permissions into NECESSARY and UNNECESSARY for a flashlight app.',
          items: [
            { id: 'dp-1', label: 'Camera (for flashlight LED)', category: 'Necessary' },
            { id: 'dp-2', label: 'Contacts', category: 'Unnecessary' },
            { id: 'dp-3', label: 'Location', category: 'Unnecessary' },
            { id: 'dp-4', label: 'Microphone', category: 'Unnecessary' },
            { id: 'dp-5', label: 'Phone call logs', category: 'Unnecessary' },
            { id: 'dp-6', label: 'Storage (for settings)', category: 'Necessary' },
            { id: 'dp-7', label: 'SMS messages', category: 'Unnecessary' },
            { id: 'dp-8', label: 'Screen brightness control', category: 'Necessary' },
          ],
          categories: ['Necessary', 'Unnecessary'],
        },
      },
      {
        id: 'dp-intermediate',
        categoryId: 'data-privacy',
        title: 'GDPR Compliance Challenge',
        description: 'Test your knowledge of data protection regulations.',
        difficulty: 'intermediate',
        points: 100,
        type: 'quiz',
        content: {
          kind: 'quiz',
          questions: [
            {
              id: 'dp-i-1',
              question: 'Under GDPR, what is the maximum time to report a data breach to authorities?',
              options: ['24 hours', '72 hours', '7 days', '30 days'],
              correctIndex: 1,
              explanation: 'GDPR Article 33 requires breach notification to supervisory authorities within 72 hours of becoming aware of it.',
            },
            {
              id: 'dp-i-2',
              question: 'Which GDPR right allows individuals to request deletion of their personal data?',
              options: ['Right to access', 'Right to be forgotten (erasure)', 'Right to portability', 'Right to object'],
              correctIndex: 1,
              explanation: 'Article 17 provides the right to erasure ("right to be forgotten"), allowing individuals to request their data be deleted.',
            },
            {
              id: 'dp-i-3',
              question: 'What does "data minimization" mean under GDPR?',
              options: ['Encrypting all data', 'Collecting only data necessary for the stated purpose', 'Reducing file sizes', 'Deleting old data annually'],
              correctIndex: 1,
              explanation: 'Data minimization means only collecting and processing the minimum personal data necessary for the specific purpose.',
            },
          ],
        },
      },
      {
        id: 'dp-advanced',
        categoryId: 'data-privacy',
        title: 'Privacy Threat Modeling',
        description: 'Analyze complex privacy threats and design protective measures.',
        difficulty: 'advanced',
        points: 200,
        type: 'interactive',
        content: {
          kind: 'interactive',
          scenario: 'You are a privacy officer auditing your company\'s data practices. Evaluate each scenario.',
          steps: [
            {
              id: 'dp-a-1',
              prompt: 'Your marketing team wants to buy a third-party dataset of consumer browsing habits to target ads. What is your recommendation?',
              options: [
                { label: 'Approve - it is publicly available data', correct: false, feedback: 'Third-party data may have been collected without proper consent, creating legal and ethical liability.' },
                { label: 'Reject unless the data has verifiable consent and complies with regulations', correct: true, feedback: 'Correct! You must verify the data was collected with informed consent and meets GDPR/CCPA requirements.' },
                { label: 'Approve if the data is anonymized', correct: false, feedback: 'Re-identification of "anonymized" data is often possible. Pseudonymization is not the same as anonymization.' },
              ],
            },
            {
              id: 'dp-a-2',
              prompt: 'A developer proposes logging all user interactions for debugging. How should this be handled?',
              options: [
                { label: 'Allow it - debugging is a legitimate interest', correct: false, feedback: 'Logging ALL interactions violates data minimization. Only log what is necessary and with proper retention policies.' },
                { label: 'Implement with data minimization, retention limits, and access controls', correct: true, feedback: 'Correct! Log only essential data, set automatic deletion after a reasonable period, and restrict access.' },
                { label: 'Block all logging entirely', correct: false, feedback: 'Some logging is necessary for security and debugging. The key is proportionality and proper controls.' },
              ],
            },
          ],
        },
      },
    ],
  },
  {
    id: 'social-media',
    name: 'Social Media Safety',
    slug: 'social-media',
    description: 'Stay safe on social platforms and manage your digital footprint.',
    icon: 'Share2',
    color: 'cyber-green',
    glowClass: 'glow-green',
    challenges: [
      {
        id: 'sm-beginner',
        categoryId: 'social-media',
        title: 'Oversharing Detector',
        description: 'Identify which social media posts expose personal information.',
        difficulty: 'beginner',
        points: 50,
        type: 'interactive',
        content: {
          kind: 'interactive',
          scenario: 'Review these social media posts and determine if they are safe to share publicly.',
          steps: [
            {
              id: 'sm-b-1',
              prompt: 'Post: "Just moved into my new apartment at 742 Evergreen Terrace! Here is a photo of the front door with the house number visible. #NewHome"',
              options: [
                { label: 'Safe to share', correct: false, feedback: 'Sharing your exact address publicly makes you a target for burglary, stalking, or identity theft.' },
                { label: 'Risky - reveals exact home address', correct: true, feedback: 'Correct! Never share your exact address publicly. Criminals use this information for physical attacks.' },
              ],
            },
            {
              id: 'sm-b-2',
              prompt: 'Post: "Leaving for 2-week vacation in Hawaii tomorrow! Can\'t wait! The house will be so empty."',
              options: [
                { label: 'Safe to share', correct: false, feedback: 'Announcing travel plans and an empty home is an invitation for burglars.' },
                { label: 'Risky - signals empty home and travel dates', correct: true, feedback: 'Correct! Wait until you return to share vacation photos, and never announce your home will be unoccupied.' },
              ],
            },
            {
              id: 'sm-b-3',
              prompt: 'Post: "Had a great time at the local park today! Beautiful sunset. #NatureLovers"',
              options: [
                { label: 'Safe - generic location, no personal details', correct: true, feedback: 'Correct! This post shares a pleasant experience without revealing sensitive personal information.' },
                { label: 'Risky - reveals your location', correct: false, feedback: 'A generic mention of a local park without specifics is generally safe, especially if posted after leaving.' },
              ],
            },
          ],
        },
      },
      {
        id: 'sm-intermediate',
        categoryId: 'social-media',
        title: 'Privacy Settings Audit',
        description: 'Optimize social media privacy settings for maximum protection.',
        difficulty: 'intermediate',
        points: 100,
        type: 'simulation',
        content: {
          kind: 'simulation',
          scenario: 'Configure social media privacy settings in order from most critical to least critical.',
          elements: [
            { id: 'sp-1', label: 'Set profile to private/friends only', description: 'Restrict who can see your posts' },
            { id: 'sp-2', label: 'Disable location tagging', description: 'Prevent automatic location sharing' },
            { id: 'sp-3', label: 'Review app permissions and revoke unnecessary access', description: 'Limit third-party data access' },
            { id: 'sp-4', label: 'Enable login notifications', description: 'Get alerted about new logins' },
            { id: 'sp-5', label: 'Review and remove old posts with personal information', description: 'Clean up digital footprint' },
            { id: 'sp-6', label: 'Disable facial recognition tagging', description: 'Prevent automatic photo tagging' },
          ],
          correctOrder: ['sp-1', 'sp-2', 'sp-4', 'sp-3', 'sp-6', 'sp-5'],
        },
      },
      {
        id: 'sm-advanced',
        categoryId: 'social-media',
        title: 'OSINT Defense Challenge',
        description: 'Understand how Open Source Intelligence can be used against you.',
        difficulty: 'advanced',
        points: 200,
        type: 'quiz',
        timeLimit: 90,
        content: {
          kind: 'quiz',
          questions: [
            {
              id: 'sm-a-1',
              question: 'What is OSINT and why should individuals be concerned about it?',
              options: [
                'A type of malware that targets social media',
                'Open Source Intelligence - freely available information that can be aggregated to profile you',
                'A government surveillance program',
                'An encryption standard for social media',
              ],
              correctIndex: 1,
              explanation: 'OSINT is information gathered from publicly available sources. Aggregating your digital footprint can reveal patterns, habits, and vulnerabilities.',
            },
            {
              id: 'sm-a-2',
              question: 'An attacker uses your social media to find your mother\'s maiden name and your pet\'s name. What attack does this enable?',
              options: ['DDoS attack', 'Security question bypass', 'SQL injection', 'Cross-site scripting'],
              correctIndex: 1,
              explanation: 'Common security questions can be answered using information freely shared on social media, enabling account takeover.',
            },
            {
              id: 'sm-a-3',
              question: 'Which of these metadata can be extracted from a photo posted on social media?',
              options: ['Only the file size', 'GPS coordinates, device model, date/time taken', 'The photographer\'s name only', 'Nothing - metadata is automatically stripped'],
              correctIndex: 1,
              explanation: 'EXIF data in photos can contain GPS coordinates, camera/phone model, timestamps, and more. Some platforms strip metadata, but not all.',
            },
          ],
        },
      },
    ],
  },
  {
    id: 'device-security',
    name: 'Device Security',
    slug: 'device-security',
    description: 'Secure your devices, understand encryption, and protect physical access.',
    icon: 'Smartphone',
    color: 'cyber-purple',
    glowClass: 'glow-purple',
    challenges: [
      {
        id: 'ds-beginner',
        categoryId: 'device-security',
        title: 'Device Security Checklist',
        description: 'Review essential device security practices.',
        difficulty: 'beginner',
        points: 50,
        type: 'drag-drop',
        content: {
          kind: 'drag-drop',
          instruction: 'Categorize these practices as ESSENTIAL or OPTIONAL for device security.',
          items: [
            { id: 'ds-1', label: 'Enable screen lock with PIN/biometrics', category: 'Essential' },
            { id: 'ds-2', label: 'Install system updates promptly', category: 'Essential' },
            { id: 'ds-3', label: 'Enable full-disk encryption', category: 'Essential' },
            { id: 'ds-4', label: 'Use a custom wallpaper', category: 'Optional' },
            { id: 'ds-5', label: 'Enable Find My Device/remote wipe', category: 'Essential' },
            { id: 'ds-6', label: 'Install apps only from official stores', category: 'Essential' },
            { id: 'ds-7', label: 'Use a screen protector', category: 'Optional' },
            { id: 'ds-8', label: 'Regularly back up device data', category: 'Essential' },
          ],
          categories: ['Essential', 'Optional'],
        },
      },
      {
        id: 'ds-intermediate',
        categoryId: 'device-security',
        title: 'Encryption Basics',
        description: 'Understand encryption types and when to use them.',
        difficulty: 'intermediate',
        points: 100,
        type: 'matching',
        content: {
          kind: 'matching',
          instruction: 'Match each encryption concept with its correct description.',
          pairs: [
            { id: 'enc-1', term: 'AES-256', definition: 'Symmetric encryption standard used for data at rest' },
            { id: 'enc-2', term: 'RSA', definition: 'Asymmetric encryption using public/private key pairs' },
            { id: 'enc-3', term: 'TLS 1.3', definition: 'Protocol securing data in transit over the internet' },
            { id: 'enc-4', term: 'End-to-end encryption', definition: 'Only sender and recipient can read messages' },
            { id: 'enc-5', term: 'Hashing (SHA-256)', definition: 'One-way function to verify data integrity' },
          ],
        },
      },
      {
        id: 'ds-advanced',
        categoryId: 'device-security',
        title: 'Mobile Threat Landscape',
        description: 'Advanced mobile security threats and countermeasures.',
        difficulty: 'advanced',
        points: 200,
        type: 'quiz',
        timeLimit: 120,
        content: {
          kind: 'quiz',
          questions: [
            {
              id: 'ds-a-1',
              question: 'What is a "zero-click" exploit on mobile devices?',
              options: [
                'An exploit that requires clicking exactly zero buttons',
                'An attack that compromises a device without any user interaction',
                'A vulnerability in the power button',
                'A social engineering attack via phone calls',
              ],
              correctIndex: 1,
              explanation: 'Zero-click exploits (like NSO Group\'s Pegasus) can compromise devices through crafted messages without the user doing anything.',
            },
            {
              id: 'ds-a-2',
              question: 'Why is "jailbreaking" or "rooting" a phone a security risk?',
              options: [
                'It voids the warranty only',
                'It removes critical security protections and enables unsigned code execution',
                'It makes the phone slower',
                'It only affects the phone\'s appearance',
              ],
              correctIndex: 1,
              explanation: 'Jailbreaking/rooting bypasses OS security measures like app sandboxing, code signing, and secure boot chain.',
            },
            {
              id: 'ds-a-3',
              question: 'What is the purpose of a Secure Enclave or Trusted Platform Module (TPM)?',
              options: [
                'To improve battery life',
                'To store and process cryptographic keys in isolated hardware',
                'To accelerate graphics rendering',
                'To expand storage capacity',
              ],
              correctIndex: 1,
              explanation: 'Secure Enclaves/TPMs provide hardware-isolated cryptographic operations, protecting keys even if the main OS is compromised.',
            },
          ],
        },
      },
    ],
  },
  {
    id: 'safe-browsing',
    name: 'Safe Browsing',
    slug: 'safe-browsing',
    description: 'Browse the web safely, understand HTTPS, cookies, and tracking.',
    icon: 'Globe',
    color: 'cyber-yellow',
    glowClass: 'glow-blue',
    challenges: [
      {
        id: 'sb-beginner',
        categoryId: 'safe-browsing',
        title: 'HTTPS & Browser Safety',
        description: 'Learn to identify secure websites and browser security indicators.',
        difficulty: 'beginner',
        points: 50,
        type: 'interactive',
        content: {
          kind: 'interactive',
          scenario: 'You are browsing the web. Evaluate each situation and make the safe choice.',
          steps: [
            {
              id: 'sb-b-1',
              prompt: 'You are about to enter your credit card on a website. The URL shows "http://shop-deals.com" (no padlock icon). What should you do?',
              options: [
                { label: 'Proceed - the site looks professional', correct: false, feedback: 'Without HTTPS, your credit card data is sent in plain text and can be intercepted.' },
                { label: 'Do NOT enter payment info on a non-HTTPS site', correct: true, feedback: 'Correct! Always verify HTTPS (padlock icon) before entering sensitive data. No padlock = no payment.' },
              ],
            },
            {
              id: 'sb-b-2',
              prompt: 'A popup says "Your computer is infected! Download this scanner now!" What do you do?',
              options: [
                { label: 'Download the scanner immediately', correct: false, feedback: 'This is "scareware" - a fake warning designed to trick you into installing malware.' },
                { label: 'Close the popup and tab - this is scareware', correct: true, feedback: 'Correct! Legitimate security software never advertises through browser popups. Close and run your own trusted antivirus.' },
                { label: 'Click "X" on the popup to close it', correct: false, feedback: 'The "X" button in scareware popups is often a disguised download link. Close the entire tab or browser instead.' },
              ],
            },
            {
              id: 'sb-b-3',
              prompt: 'A website asks you to "Accept all cookies" to continue browsing. What is the best approach?',
              options: [
                { label: 'Accept all - cookies are harmless', correct: false, feedback: 'Third-party tracking cookies follow you across websites and build detailed profiles of your behavior.' },
                { label: 'Review cookie settings and accept only necessary cookies', correct: true, feedback: 'Correct! Only accept necessary/functional cookies. Reject tracking and advertising cookies when possible.' },
              ],
            },
          ],
        },
      },
      {
        id: 'sb-intermediate',
        categoryId: 'safe-browsing',
        title: 'Browser Hardening',
        description: 'Configure browser security settings for optimal protection.',
        difficulty: 'intermediate',
        points: 100,
        type: 'simulation',
        content: {
          kind: 'simulation',
          scenario: 'Set up your browser for maximum security. Arrange these security measures from most impactful to least.',
          elements: [
            { id: 'bh-1', label: 'Enable HTTPS-only mode', description: 'Force encrypted connections' },
            { id: 'bh-2', label: 'Install a reputable ad blocker', description: 'Block malicious ads and trackers' },
            { id: 'bh-3', label: 'Enable automatic updates', description: 'Get security patches immediately' },
            { id: 'bh-4', label: 'Disable third-party cookies', description: 'Prevent cross-site tracking' },
            { id: 'bh-5', label: 'Review and limit browser extensions', description: 'Reduce attack surface' },
            { id: 'bh-6', label: 'Enable DNS over HTTPS', description: 'Encrypt DNS queries' },
          ],
          correctOrder: ['bh-3', 'bh-1', 'bh-2', 'bh-4', 'bh-5', 'bh-6'],
        },
      },
      {
        id: 'sb-advanced',
        categoryId: 'safe-browsing',
        title: 'Web Tracking Deep Dive',
        description: 'Understand advanced tracking techniques and countermeasures.',
        difficulty: 'advanced',
        points: 200,
        type: 'quiz',
        timeLimit: 90,
        content: {
          kind: 'quiz',
          questions: [
            {
              id: 'sb-a-1',
              question: 'What is browser fingerprinting and why is it harder to block than cookies?',
              options: [
                'It uses your fingerprint reader for tracking',
                'It creates a unique ID from browser/device attributes that persists without storing data locally',
                'It is a type of malware',
                'It only works on mobile devices',
              ],
              correctIndex: 1,
              explanation: 'Browser fingerprinting combines screen resolution, fonts, plugins, timezone, and more to create a unique identifier without cookies.',
            },
            {
              id: 'sb-a-2',
              question: 'What is a "supercookie" and how does it differ from regular cookies?',
              options: [
                'A larger version of regular cookies',
                'A tracking mechanism stored outside the browser\'s cookie jar (e.g., HSTS headers, ETags, localStorage)',
                'A cookie from a superuser account',
                'An encrypted secure cookie',
              ],
              correctIndex: 1,
              explanation: 'Supercookies exploit browser features like HSTS headers, ETags, or localStorage to store tracking data that survives cookie deletion.',
            },
            {
              id: 'sb-a-3',
              question: 'What does the Tor browser primarily protect against?',
              options: [
                'Malware infections',
                'Traffic analysis and IP-based identification',
                'Phishing attacks',
                'Keyloggers',
              ],
              correctIndex: 1,
              explanation: 'Tor routes traffic through multiple relays, hiding your IP address and making traffic analysis extremely difficult.',
            },
          ],
        },
      },
    ],
  },
]

export function getCategoryBySlug(slug: string): ChallengeCategory | undefined {
  return categories.find(c => c.slug === slug)
}

export function getChallengeById(id: string): { challenge: import('./types').Challenge; category: ChallengeCategory } | undefined {
  for (const cat of categories) {
    const challenge = cat.challenges.find(c => c.id === id)
    if (challenge) return { challenge, category: cat }
  }
  return undefined
}

export function getTotalChallenges(): number {
  return categories.reduce((sum, cat) => sum + cat.challenges.length, 0)
}
